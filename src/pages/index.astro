---
import { Star, Github, Linkedin, X, Menu } from "@lucide/astro";
import BaseLayout from "../layouts/BaseLayout.astro";
import { getRelativeLocaleUrl } from "astro:i18n";

const currentYear = new Date().getFullYear();
---

<BaseLayout>
  <div class="min-h-screen overflow-x-hidden">
    <!-- Header -->
    <header
      class="border-b-2 border-black pt-3 md:pt-6 px-4 md:px-8 pb-3 md:pb-4 flex justify-between items-center relative"
    >
      <a href="/" class="flex items-center gap-2 hover:opacity-70 transition-opacity">
        <img src="/logo.svg" alt="BlackTar" class="h-14 md:h-20 w-auto" />
        <div class="text-sm md:text-base font-bold leading-tight">
          BLACKTAR<br />
          ENGINEERING<br />
          WORKS
        </div>
      </a>

      <!-- Desktop Navigation -->
      <nav
        class="hidden md:flex text-sm md:text-base font-bold text-right gap-8 items-center"
      >
        <a
          href="#work"
          class="border-l-2 border-black pl-4 hover:opacity-70 transition-opacity"
          >WORK</a
        >
        <a
          href="#about"
          class="border-l-2 border-black pl-4 hover:opacity-70 transition-opacity"
          >ABOUT</a
        >
        <a
          href="#contact"
          class="border-l-2 border-black pl-4 hover:opacity-70 transition-opacity"
          >CONTACT</a
        >
        <a
          href={getRelativeLocaleUrl("es", "")}
          class="border-l-2 border-black pl-4 hover:opacity-70 transition-opacity"
          >ES</a
        >
      </nav>

      <!-- Language Switcher (Mobile) -->
      <div class="md:hidden flex items-center gap-2">
        <a
          href={getRelativeLocaleUrl("es", "")}
          class="text-sm font-bold hover:opacity-70 transition-opacity"
          >ES</a
        >
        <!-- Mobile Menu Button -->
        <button
          id="mobile-menu-button"
          class="p-2 hover:opacity-70 transition-opacity"
          aria-label="Toggle menu"
        >
          <Menu size={32} stroke="black" strokeWidth={2} />
        </button>
      </div>
    </header>

    <!-- Mobile Menu Overlay -->
    <div
      id="mobile-menu"
      class="fixed inset-0 bg-white z-50 transform translate-x-full transition-transform duration-300 ease-in-out md:hidden"
    >
      <div class="flex flex-col h-full">
        <!-- Mobile Menu Header -->
        <div
          class="border-b-2 border-black p-4 flex justify-between items-center"
        >
          <div class="text-sm font-bold leading-tight">MENU</div>
          <button id="mobile-menu-close" class="p-2" aria-label="Close menu">
            <X size={24} />
          </button>
        </div>

        <!-- Mobile Navigation Links -->
        <nav class="flex flex-col p-8 gap-8 text-2xl font-bold">
          <a
            href="#work"
            class="border-l-4 border-black pl-4 py-2 hover:bg-black hover:text-white transition-colors mobile-menu-link"
            >WORK</a
          >
          <a
            href="#about"
            class="border-l-4 border-black pl-4 py-2 hover:bg-black hover:text-white transition-colors mobile-menu-link"
            >ABOUT</a
          >
          <a
            href="#contact"
            class="border-l-4 border-black pl-4 py-2 hover:bg-black hover:text-white transition-colors mobile-menu-link"
            >CONTACT</a
          >
        </nav>
      </div>
    </div>

    <script>
      // Mobile menu functionality
      const mobileMenuButton = document.getElementById("mobile-menu-button");
      const mobileMenu = document.getElementById("mobile-menu");
      const mobileMenuClose = document.getElementById("mobile-menu-close");
      const mobileMenuLinks = document.querySelectorAll(".mobile-menu-link");
      const menuIcon = document.getElementById("menu-icon");
      const closeIcon = document.getElementById("close-icon");

      function openMenu() {
        mobileMenu?.classList.remove("translate-x-full");
        document.body.style.overflow = "hidden";
      }

      function closeMenu() {
        mobileMenu?.classList.add("translate-x-full");
        document.body.style.overflow = "";
      }

      mobileMenuButton?.addEventListener("click", openMenu);
      mobileMenuClose?.addEventListener("click", closeMenu);

      // Close menu when clicking a link
      mobileMenuLinks.forEach((link) => {
        link.addEventListener("click", closeMenu);
      });

      // Close menu on escape key
      document.addEventListener("keydown", (e) => {
        if (e.key === "Escape") {
          closeMenu();
        }
      });
    </script>

    <!-- Giant Hero Typography -->
    <section
      class="min-h-[60vh] md:min-h-screen flex items-end justify-start p-4 md:p-8 pb-8 md:pb-32 relative"
    >
      <!-- Vertical text on left -->
      <div
        class="absolute left-2 md:left-4 top-1/2 -translate-y-1/2 z-10"
      >
        <div
          class="text-xs md:text-sm font-bold tracking-wider"
          style="writing-mode: vertical-rl; text-orientation: mixed;"
        >
          EST. {currentYear}
        </div>
      </div>

      <div class="w-full pl-6 pr-6 md:pl-8 md:pr-0">
        <div class="mb-4 md:mb-8 max-w-4xl border-l-4 border-black pl-4 md:pl-6">
          <p class="text-sm md:text-lg leading-relaxed mb-2 md:mb-4">
            WE BUILD SOFTWARE THAT MOVES FAST, SCALES HARD, AND DELIVERS
            RESULTS. FROM EARLY-STAGE DISRUPTORS TO ESTABLISHED CATEGORY
            LEADERS, WE ENGINEER SYSTEMS THAT PERFORM UNDER PRESSURE.
          </p>
          <p class="text-sm md:text-base leading-relaxed opacity-90">
            No fluff. No compromises. Just battle-tested code, scalable
            architecture, and systems built to handle whatever you throw at
            them.
          </p>
        </div>
        <h1
          class="text-[20vw] md:text-[28vw] font-bold leading-none border-t-4 border-b-4 border-black py-4"
        >
          BTEW
        </h1>
      </div>
    </section>

    <!-- Black Section with Project List -->
    <section
      id="work"
      class="bg-black text-white border-t-4 border-black relative"
    >
      <!-- Vertical text on right -->
      <div
        class="absolute right-2 md:right-4 top-0 bottom-0 z-10 overflow-hidden w-6 md:w-8"
      >
        <div
          class="text-xs md:text-base font-bold tracking-wider animate-scroll-vertical whitespace-nowrap"
          style="writing-mode: vertical-rl; text-orientation: mixed;"
        >
          SELECTED PROJECTS • SELECTED PROJECTS • SELECTED PROJECTS • SELECTED
          PROJECTS • SELECTED PROJECTS • SELECTED PROJECTS • SELECTED PROJECTS •
          SELECTED PROJECTS • SELECTED PROJECTS • SELECTED PROJECTS • SELECTED
          PROJECTS • SELECTED PROJECTS • SELECTED PROJECTS • SELECTED PROJECTS •
          SELECTED PROJECTS • SELECTED PROJECTS • SELECTED PROJECTS • SELECTED
          PROJECTS • SELECTED PROJECTS • SELECTED PROJECTS •
        </div>
      </div>

      <!-- Projects List -->
      <div class="p-8 pr-10 md:p-16 max-w-7xl mx-auto">
        <h2 class="text-3xl md:text-5xl font-bold mb-12 leading-tight">
          SELECTED WORK
        </h2>

        <div class="space-y-8">
          {
            [
              {
                name: "ZEPHYR CLOUD",
                subtitle: "CLOUD INFRASTRUCTURE PLATFORM",
                client: "ENTERPRISE TECH COMPANY",
                desc: "Multi-region cloud orchestration that just works. Auto-scaling infrastructure across global data centers. Built for enterprises that can't afford downtime. Performance monitoring that predicts issues before they happen.",
                tech: "GO / KUBERNETES / TERRAFORM / AWS",
                year: "2024",
                number: "01",
              },
              {
                name: "FEVER",
                subtitle: "EVENT DISCOVERY & TICKETING PLATFORM",
                client: "ENTERTAINMENT STARTUP",
                desc: "Real-time event booking for millions of users. Dynamic pricing algorithms that maximize revenue. Seamless payment processing across multiple currencies. Mobile-first experience that converts.",
                tech: "REACT / NODE.JS / POSTGRESQL / STRIPE",
                year: "2024",
                number: "02",
              },
              {
                name: "ZENROWS",
                subtitle: "WEB SCRAPING API SERVICE",
                client: "DATA INTELLIGENCE COMPANY",
                desc: "Industrial-grade web scraping that bypasses any protection. Rotating proxies and smart retry logic. Processing millions of requests daily with 99.9% uptime. Data extraction made simple.",
                tech: "PYTHON / REDIS / MONGODB / SCRAPY",
                year: "2023",
                number: "03",
              },
              {
                name: "NEXIONA",
                subtitle: "IOT CONNECTIVITY SOLUTION",
                client: "INDUSTRIAL IOT PROVIDER",
                desc: "Connecting millions of devices in real-time. Low-latency communication protocol for industrial applications. Edge computing that processes data locally. Built for the most demanding environments.",
                tech: "C++ / MQTT / TIMESCALEDB / DOCKER",
                year: "2023",
                number: "04",
              },
            ].map((project) => (
              <div class="border-b-2 border-white pb-6 border-l-4 border-white pl-4">
                <div class="flex items-start gap-4 mb-2">
                  <div class="text-3xl font-bold opacity-50">
                    {project.number}
                  </div>
                  <div class="flex-1">
                    <div class="flex justify-between items-start mb-2">
                      <div>
                        <div class="text-xl md:text-2xl font-bold mb-1">
                          {project.name}
                        </div>
                        <div class="text-sm opacity-80">{project.subtitle}</div>
                      </div>
                      <div class="text-sm opacity-70 ml-4">{project.year}</div>
                    </div>
                    <div class="text-sm mb-2 opacity-80 border-b border-white inline-block pb-1">
                      {project.client}
                    </div>
                    <p class="text-sm leading-relaxed mb-2 opacity-90">
                      {project.desc}
                    </p>
                    <div class="text-xs opacity-70 font-bold">
                      {project.tech}
                    </div>
                  </div>
                </div>
              </div>
            ))
          }
        </div>

        <div class="mt-12 pt-8 border-t-2 border-white">
          <p
            class="text-sm leading-relaxed opacity-90 border-l-4 border-white pl-4"
          >
            FROM ZERO TO ONE OR ONE TO MILLION. WE BUILD SYSTEMS THAT SCALE,
            CODE THAT LASTS, AND INFRASTRUCTURE THAT DOESN'T BREAK AT 3AM. LET'S
            SHIP SOMETHING THAT MATTERS.
          </p>
        </div>
      </div>
    </section>

    <!-- Open Source Section -->
    <section class="border-t-4 border-black relative">
      <!-- Vertical text -->
      <div
        class="absolute left-2 md:left-4 top-0 bottom-0 z-10 overflow-hidden w-6 md:w-8"
      >
        <div
          class="text-xs md:text-base font-bold tracking-wider animate-scroll-vertical whitespace-nowrap"
          style="writing-mode: vertical-rl; text-orientation: mixed;"
        >
          OPEN SOURCE • OPEN SOURCE • OPEN SOURCE • OPEN SOURCE • OPEN SOURCE •
          OPEN SOURCE • OPEN SOURCE • OPEN SOURCE • OPEN SOURCE • OPEN SOURCE •
          OPEN SOURCE • OPEN SOURCE • OPEN SOURCE • OPEN SOURCE • OPEN SOURCE •
          OPEN SOURCE • OPEN SOURCE • OPEN SOURCE • OPEN SOURCE • OPEN SOURCE •
          OPEN SOURCE • OPEN SOURCE • OPEN SOURCE • OPEN SOURCE •
        </div>
      </div>

      <!-- Projects List -->
      <div class="p-8 pl-10 md:p-16 max-w-7xl mx-auto">
        <h2 class="text-3xl md:text-5xl font-bold mb-12 leading-tight">
          OPEN SOURCE CONTRIBUTIONS
        </h2>

        <div class="space-y-8">
          {
            [
              {
                name: "MODULE FEDERATION",
                subtitle: "MICRO-FRONTEND ARCHITECTURE",
                repo: "GITHUB.COM/MODULE-FEDERATION",
                desc: "Revolutionary approach to building scalable micro-frontends. Share code between applications at runtime. Independent deployments without sacrificing performance. The future of frontend architecture.",
                tech: "JAVASCRIPT / WEBPACK / TYPESCRIPT",
                stars: "8.5K",
                number: "01",
              },
              {
                name: "RSPACK",
                subtitle: "HIGH-PERFORMANCE BUNDLER",
                repo: "GITHUB.COM/WEB-INFRA-DEV/RSPACK",
                desc: "Webpack-compatible bundler written in Rust. 10x faster builds without the complexity. Drop-in replacement that just works. Built for the next generation of web applications.",
                tech: "RUST / JAVASCRIPT",
                stars: "12K",
                number: "02",
              },
              {
                name: "VITE",
                subtitle: "NEXT-GEN FRONTEND TOOLING",
                repo: "GITHUB.COM/VITEJS/VITE",
                desc: "Lightning-fast dev server powered by native ESM. Instant HMR that actually feels instant. Optimized builds with Rollup. The build tool developers deserve.",
                tech: "TYPESCRIPT / ROLLUP / ESM",
                stars: "65K",
                number: "03",
              },
              {
                name: "NEXT.JS",
                subtitle: "REACT FRAMEWORK FOR PRODUCTION",
                repo: "GITHUB.COM/VERCEL/NEXT.JS",
                desc: "The React framework that powers the modern web. Server-side rendering made simple. File-based routing that makes sense. Optimizations that ship by default.",
                tech: "REACT / TYPESCRIPT / NODE.JS",
                stars: "120K",
                number: "04",
              },
              {
                name: "TRPC",
                subtitle: "END-TO-END TYPESAFE APIS",
                repo: "GITHUB.COM/TRPC/TRPC",
                desc: "Build fully typesafe APIs without schemas or code generation. Autocompletion across client and server. Runtime validation that catches errors early. TypeScript at its best.",
                tech: "TYPESCRIPT / ZQUERY / REACT",
                stars: "32K",
                number: "05",
              },
            ].map((project) => (
              <div class="border-b-2 border-black pb-6 border-l-4 border-black pl-4">
                <div class="flex items-start gap-4 mb-2">
                  <div class="text-3xl font-bold opacity-50">
                    {project.number}
                  </div>
                  <div class="flex-1">
                    <div class="flex justify-between items-start mb-2">
                      <div>
                        <div class="text-xl md:text-2xl font-bold mb-1">
                          {project.name}
                        </div>
                        <div class="text-sm opacity-80">{project.subtitle}</div>
                      </div>
                      <div class="text-sm opacity-70 ml-4 flex items-center gap-1">
                        <Star size={16} fill="currentColor" />
                        {project.stars}
                      </div>
                    </div>
                    <div class="text-sm mb-2 opacity-80 border-b border-black inline-block pb-1">
                      {project.repo}
                    </div>
                    <p class="text-sm leading-relaxed mb-2 opacity-90">
                      {project.desc}
                    </p>
                    <div class="text-xs opacity-70 font-bold">
                      {project.tech}
                    </div>
                  </div>
                </div>
              </div>
            ))
          }
        </div>

        <div class="mt-12 pt-8 border-t-2 border-black">
          <p
            class="text-sm leading-relaxed opacity-90 border-l-4 border-black pl-4"
          >
            WE BELIEVE IN GIVING BACK TO THE COMMUNITY. THESE ARE THE PROJECTS
            WE'VE CONTRIBUTED TO, HELPING SHAPE THE FUTURE OF WEB DEVELOPMENT.
            FROM CORE FEATURES TO PERFORMANCE IMPROVEMENTS, WE'RE COMMITTED TO
            OPEN SOURCE.
          </p>
        </div>
      </div>
    </section>

    <!-- Philosophy Section - Black Background -->
    <section
      id="about"
      class="p-8 md:p-16 border-t-4 border-black bg-black text-white relative"
    >
      <!-- Vertical text -->
      <div
        class="absolute right-2 md:right-4 top-0 bottom-0 z-10 overflow-hidden w-6 md:w-8"
      >
        <div
          class="text-xs md:text-base font-bold tracking-wider animate-scroll-vertical whitespace-nowrap"
          style="writing-mode: vertical-rl; text-orientation: mixed;"
        >
          PHILOSOPHY • PHILOSOPHY • PHILOSOPHY • PHILOSOPHY • PHILOSOPHY •
          PHILOSOPHY • PHILOSOPHY • PHILOSOPHY • PHILOSOPHY • PHILOSOPHY •
          PHILOSOPHY • PHILOSOPHY • PHILOSOPHY • PHILOSOPHY • PHILOSOPHY •
          PHILOSOPHY • PHILOSOPHY • PHILOSOPHY • PHILOSOPHY • PHILOSOPHY •
          PHILOSOPHY • PHILOSOPHY • PHILOSOPHY • PHILOSOPHY •
        </div>
      </div>

      <div class="max-w-5xl mx-auto pr-10 md:pr-0">
        <p
          class="text-3xl md:text-5xl font-bold leading-tight mb-8 border-l-8 border-white pl-6"
        >
          WE BUILD SOFTWARE THAT WORKS FOR PEOPLE, NOT THE OTHER WAY AROUND
        </p>

        <div class="grid md:grid-cols-2 gap-8 mt-12">
          <div class="border-l-4 border-white pl-6">
            <h3
              class="text-xl md:text-2xl font-bold mb-4 border-b-2 border-white pb-2"
            >
              OUR PROCESS
            </h3>
            <p class="text-sm md:text-base leading-relaxed mb-4">
              We start by understanding your problem deeply. No premature
              solutions, no assumptions. Just thorough discovery and planning.
            </p>
            <p class="text-sm md:text-base leading-relaxed mb-4">
              Then we build iteratively, shipping early and often. Continuous
              feedback loops ensure we're always moving in the right direction.
            </p>
            <p class="text-sm md:text-base leading-relaxed">
              We believe in simple, maintainable code that others can
              understand. No clever tricks, no unnecessary complexity.
            </p>
          </div>

          <div class="border-l-4 border-white pl-6">
            <h3
              class="text-xl md:text-2xl font-bold mb-4 border-b-2 border-white pb-2"
            >
              WHY WORK WITH US
            </h3>
            <p class="text-sm md:text-base leading-relaxed mb-4">
              We're not a factory. We're a small team that cares about the work
              we do and the people we work with.
            </p>
            <p class="text-sm md:text-base leading-relaxed mb-4">
              Every project gets our full attention. We're involved from
              strategy through deployment and beyond.
            </p>
            <p class="text-sm md:text-base leading-relaxed">
              We communicate clearly and honestly. No jargon, no surprises.
              You'll always know where things stand.
            </p>
          </div>
        </div>

        <div
          class="mt-12 pt-8 border-t-4 border-white border-l-4 border-white pl-6"
        >
          <h3
            class="text-xl md:text-2xl font-bold mb-4 border-b-2 border-white pb-2"
          >
            CLIENTS
          </h3>
          <p class="text-sm md:text-base leading-relaxed">
            We've worked with startups raising their first round, established
            companies modernizing legacy systems, and everything in between.
            What they have in common: a vision for better software and a
            willingness to do things right.
          </p>
        </div>
      </div>
    </section>

    <!-- Footer -->
    <footer id="contact" class="border-t-4 border-black p-8 md:p-16">
      <div class="max-w-6xl mx-auto">
        <div class="mb-12 pb-12 border-b-4 border-black">
          <h2 class="text-4xl md:text-6xl font-bold mb-4 leading-tight">
            LET'S BUILD SOMETHING THAT SHIPS
          </h2>
          <p class="text-lg md:text-xl opacity-90 border-l-4 border-black pl-4">
            READY TO MOVE FAST AND BUILD THINGS? LET'S TALK.
          </p>
        </div>

        <div class="grid md:grid-cols-3 gap-8 mb-8">
          <div class="border-l-4 border-black pl-4">
            <div
              class="font-bold mb-2 text-sm border-b-2 border-black pb-1 inline-block"
            >
              CONTACT
            </div>
            <div class="text-sm leading-relaxed">
              <div>
                INFO<span class="opacity-50">[at]</span>BLACKTAR<span
                  class="opacity-50">[dot]</span
                >WORKS
              </div>
              <div class="opacity-70 mt-2">
                For project inquiries, partnerships, or general questions.
              </div>
            </div>
          </div>

          <div class="border-l-4 border-black pl-4">
            <div
              class="font-bold mb-2 text-sm border-b-2 border-black pb-1 inline-block"
            >
              LOCATION
            </div>
            <div class="text-sm leading-relaxed">
              <div>REMOTE FIRST</div>
              <div class="opacity-70 mt-2">
                We work with clients worldwide. Based primarily in North America
                and Europe.
              </div>
            </div>
          </div>

          <div class="border-l-4 border-black pl-4">
            <div
              class="font-bold mb-2 text-sm border-b-2 border-black pb-1 inline-block"
            >
              CONNECT
            </div>
            <div class="text-sm leading-relaxed space-y-2">
              <a
                href="https://github.com/blacktarhq"
                target="_blank"
                rel="noopener noreferrer"
                class="flex items-center gap-2 hover:opacity-70 transition-opacity"
              >
                <Github size={20} />
                <span>GITHUB.COM/BLACKTARHQ</span>
              </a>
              <a
                href="https://x.com/blacktarhq"
                target="_blank"
                rel="noopener noreferrer"
                class="flex items-center gap-2 hover:opacity-70 transition-opacity"
              >
                <svg
                  class="inline-block"
                  width="20"
                  height="20"
                  viewBox="0 0 16 16"
                  fill="currentColor"
                  xmlns="http://www.w3.org/2000/svg"
                  aria-hidden="true"
                >
                  <path
                    d="M12.6.75h2.454l-5.36 6.142L16 15.25h-4.937l-3.867-5.07-4.425 5.07H.316l5.733-6.57L0 .75h5.063l3.495 4.633L12.601.75Zm-.86 13.028h1.36L4.323 2.145H2.865z"
                  ></path>
                </svg>
                <span>X.COM/BLACKTARHQ</span>
              </a>
              <a
                href="https://linkedin.com/company/blacktarhq"
                target="_blank"
                rel="noopener noreferrer"
                class="flex items-center gap-2 hover:opacity-70 transition-opacity"
              >
                <Linkedin size={20} />
                <span>LINKEDIN.COM/COMPANY/BLACKTARHQ</span>
              </a>
            </div>
          </div>
        </div>

        <div
          class="border-t-4 border-black pt-8 flex flex-col md:flex-row justify-between items-start md:items-center gap-4 text-xs"
        >
          <div class="font-bold border-l-4 border-black pl-4">
            © {currentYear} BLACKTAR ENGINEERING WORKS. ALL RIGHTS RESERVED.
          </div>
          <div class="flex gap-4 opacity-70">
            <a href={getRelativeLocaleUrl("en", "privacy")} class="border-l-2 border-black pl-2 hover:opacity-100 transition-opacity">PRIVACY POLICY</a>
            <a href={getRelativeLocaleUrl("en", "terms")} class="border-l-2 border-black pl-2 hover:opacity-100 transition-opacity">TERMS OF SERVICE</a>
          </div>
        </div>
      </div>
    </footer>
  </div>
</BaseLayout>
